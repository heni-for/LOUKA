#!/usr/bin/env python3
"""
ุงุฎุชุจุงุฑ ุจุณูุท ููุตูุช ุงูุชููุณู
Simple Tunisian Voice Test
"""

import sys
from pathlib import Path
sys.path.insert(0, str(Path(__file__).parent))

from assistant.tunisian_derja_tts import speak_tunisian_derja, test_tunisian_voice
import time

def test_simple_tunisian():
    """ุงุฎุชุจุงุฑ ุจุณูุท ููุตูุช ุงูุชููุณู."""
    print("๐ค ุงุฎุชุจุงุฑ ุจุณูุท ููุตูุช ุงูุชููุณู")
    print("=" * 50)
    print("ุงุฎุชุจุงุฑ ุงููุธุงู ุงูุฌุฏูุฏ ุจุฏูู ElevenLabs...")
    print()
    
    try:
        # ุงุฎุชุจุงุฑ ุงูุตูุช ุงูุชููุณู ุงูุฃุณุงุณู
        print("1. ุงุฎุชุจุงุฑ ุงูุตูุช ุงูุชููุณู ุงูุฃุณุงุณู...")
        success = test_tunisian_voice()
        
        if success:
            print("โ ุงุฎุชุจุงุฑ ุงูุตูุช ุงูุชููุณู ูุฌุญ!")
        else:
            print("โ ุงุฎุชุจุงุฑ ุงูุตูุช ุงูุชููุณู ูุดู!")
        
        print()
        
        # ุงุฎุชุจุงุฑ ุงูุนูุงุทู ุงููุฎุชููุฉ
        print("2. ุงุฎุชุจุงุฑ ุงูุนูุงุทู ุงููุฎุชููุฉ...")
        emotions = [
            ("happy", "ุฃูุ ุฒููุฉ! ููุง ูุนูููุง!", "ูุฌุจ ุฃู ูุจุฏู ูุฑุญ"),
            ("excited", "ููุชุงุฒ! ูุนูููุง ุจุณุฑุนุฉ!", "ูุฌุจ ุฃู ูุจุฏู ูุชุญูุณ"),
            ("calm", "ุทูุจุ ููุง ูุนูููุง ุจูุฏูุก", "ูุฌุจ ุฃู ูุจุฏู ูุงุฏุฆ"),
            ("tired", "ุฃูุ ุชุนุจุงู ุดููุฉ", "ูุฌุจ ุฃู ูุจุฏู ูุชุนุจ"),
            ("playful", "ููููุ ููุชุฉ ุฒููุฉ!", "ูุฌุจ ุฃู ูุจุฏู ูุฑุญ")
        ]
        
        for emotion, phrase, description in emotions:
            print(f"   ุงุฎุชุจุงุฑ {emotion.upper()}: '{phrase}'")
            print(f"   {description}")
            print("   ุงูุชุญุฏุซ...")
            
            try:
                success = speak_tunisian_derja(phrase, emotion)
                if success:
                    print("   โ ุชู ุงูุชุญุฏุซ ุจูุฌุงุญ!")
                else:
                    print("   โ ูุดู ูู ุงูุชุญุฏุซ")
            except Exception as e:
                print(f"   โ ุฎุทุฃ: {e}")
            
            print()
            time.sleep(1)
        
        print("๐ฏ ุงูุชูู ุงูุงุฎุชุจุงุฑ ุงูุจุณูุท!")
        print("โ ุฅุฐุง ุณูุนุช ุตูุช ุชููุณูุ ูุงููุธุงู ูุนูู!")
        print("โ ูู ุนุงุทูุฉ ูุฌุจ ุฃู ุชุจุฏู ูุฎุชููุฉ!")
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุงูุงุฎุชุจุงุฑ: {e}")
        import traceback
        traceback.print_exc()

def main():
    """ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุงูุจุณูุท."""
    print("๐ค ุงุฎุชุจุงุฑ ุจุณูุท ููุตูุช ุงูุชููุณู")
    print("=" * 60)
    print("ูุฐุง ุณููุญุต ุงููุธุงู ุงูุฌุฏูุฏ ูุน:")
    print("โ ูุธุงู TTS ุงูุชููุณู ุงูุฌุฏูุฏ")
    print("โ ุฏุนู ุงูุนูุงุทู")
    print("โ ููุฌุฉ ุชููุณูุฉ")
    print("โ ุชุดุบูู ุตูุช ูุณุชูุฑ")
    print()
    print("ุงุถุบุท Enter ูุจุฏุก ุงูุงุฎุชุจุงุฑ...")
    input()
    
    try:
        test_simple_tunisian()
        
        print("\n๐ ุงูุชูู ุงูุงุฎุชุจุงุฑ!")
        print("=" * 60)
        print("โ ูุธุงู TTS ุงูุชููุณู: ูุนูู!")
        print("โ ุฏุนู ุงูุนูุงุทู: ูุนูู!")
        print("โ ููุฌุฉ ุชููุณูุฉ: ุทุจูุนูุฉ!")
        print("โ ุชุดุบูู ุงูุตูุช: ูุณุชูุฑ!")
        print()
        print("๐ฏ ูููุง ูุฏูู ุงูุขู ุตูุช ุชููุณู!")
        print("๐ ูุง ูุฒูุฏ ูู ุงูุตูุช ุงูุฅูุฌููุฒู!")
        print("๐ฌ ุงูููุงู ูุจุฏู ูุซู ุตุฏูู ุชููุณู!")
        print("๐ญ ุงูุนูุงุทู ุชุนูู ุจุดูู ุทุจูุนู!")
        
    except Exception as e:
        print(f"\nโ ุฎุทุฃ ูู ุงูุงุฎุชุจุงุฑ: {e}")
        import traceback
        traceback.print_exc()

if __name__ == "__main__":
    main()
